!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const n=new Map;class i{constructor(t,e,s,n=N){this.strings=t,this.values=e,this.type=s,this.partCallback=n}getHTML(){const t=this.strings.length-1;let e="",s=!0;for(let n=0;n<t;n++){const t=this.strings[n];e+=t;const i=h(t);e+=(s=i>-1?i<t.length:s)?a:r}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}function o(t,e,s=function(t){let e=n.get(t.type);void 0===e&&(e=new Map,n.set(t.type,e));let s=e.get(t.strings);return void 0===s&&(s=new u(t,t.getTemplateElement()),e.set(t.strings,s)),s}){const i=s(t);let o=e.__templateInstance;if(void 0!==o&&o.template===i&&o._partCallback===t.partCallback)return void o.update(t.values);o=new b(i,t.partCallback,s),e.__templateInstance=o;const r=o._clone();o.update(t.values),T(e,e.firstChild),e.appendChild(r)}const r=`{{lit-${String(Math.random()).slice(2)}}}`,a=`\x3c!--${r}--\x3e`,d=new RegExp(`${r}|${a}`),l=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function h(t){const e=t.lastIndexOf(">");return t.indexOf("<",e+1)>-1?t.length:e}class c{constructor(t,e,s,n,i){this.type=t,this.index=e,this.name=s,this.rawName=n,this.strings=i}}class u{constructor(t,e){this.parts=[],this.element=e;const s=this.element.content,n=document.createTreeWalker(s,133,null,!1);let i=-1,o=0;const a=[];let h,u;for(;n.nextNode();){i++,h=u;const e=u=n.currentNode;if(1===e.nodeType){if(!e.hasAttributes())continue;const s=e.attributes;let n=0;for(let t=0;t<s.length;t++)s[t].value.indexOf(r)>=0&&n++;for(;n-- >0;){const n=t.strings[o],r=l.exec(n)[1],a=s.getNamedItem(r),h=a.value.split(d);this.parts.push(new c("attribute",i,a.name,r,h)),e.removeAttribute(a.name),o+=h.length-1}}else if(3===e.nodeType){const t=e.nodeValue;if(t.indexOf(r)<0)continue;const s=e.parentNode,n=t.split(d),a=n.length-1;o+=a,e.textContent=n[a];for(let t=0;t<a;t++)s.insertBefore(document.createTextNode(n[t]),e),this.parts.push(new c("node",i++))}else if(8===e.nodeType&&e.nodeValue===r){const t=e.parentNode,s=e.previousSibling;null===s||s!==h||s.nodeType!==Node.TEXT_NODE?t.insertBefore(document.createTextNode(""),e):i--,this.parts.push(new c("node",i++)),a.push(e),null===e.nextSibling?t.insertBefore(document.createTextNode(""),e):i--,u=h,o++}}for(const t of a)t.parentNode.removeChild(t)}}const p=(t,e)=>g(e)?(e=e(t),f):null===e?void 0:e,m=t=>(t.__litDirective=!0,t),g=t=>"function"==typeof t&&!0===t.__litDirective,f={},_=t=>null===t||!("object"==typeof t||"function"==typeof t);class v{constructor(t,e,s,n){this.instance=t,this.element=e,this.name=s,this.strings=n,this.size=n.length-1,this._previousValues=[]}_interpolate(t,e){const s=this.strings,n=s.length-1;let i="";for(let o=0;o<n;o++){i+=s[o];const n=p(this,t[e+o]);if(n&&n!==f&&(Array.isArray(n)||"string"!=typeof n&&n[Symbol.iterator]))for(const t of n)i+=t;else i+=n}return i+s[n]}_equalToPreviousValues(t,e){for(let s=e;s<e+this.size;s++)if(this._previousValues[s]!==t[s]||!_(t[s]))return!1;return!0}setValue(t,e){if(this._equalToPreviousValues(t,e))return;const s=this.strings;let n;2===s.length&&""===s[0]&&""===s[1]?(n=p(this,t[e]),Array.isArray(n)&&(n=n.join(""))):n=this._interpolate(t,e),n!==f&&this.element.setAttribute(this.name,n),this._previousValues=t}}class x{constructor(t,e,s){this.instance=t,this.startNode=e,this.endNode=s,this._previousValue=void 0}setValue(t){if((t=p(this,t))!==f)if(_(t)){if(t===this._previousValue)return;this._setText(t)}else t instanceof i?this._setTemplateResult(t):Array.isArray(t)||t[Symbol.iterator]?this._setIterable(t):t instanceof Node?this._setNode(t):void 0!==t.then?this._setPromise(t):this._setText(t)}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_setNode(t){this._previousValue!==t&&(this.clear(),this._insert(t),this._previousValue=t)}_setText(t){const e=this.startNode.nextSibling;t=void 0===t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._setNode(document.createTextNode(t)),this._previousValue=t}_setTemplateResult(t){const e=this.instance._getTemplate(t);let s;this._previousValue&&this._previousValue.template===e?s=this._previousValue:(s=new b(e,this.instance._partCallback,this.instance._getTemplate),this._setNode(s._clone()),this._previousValue=s),s.update(t.values)}_setIterable(t){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const e=this._previousValue;let s=0;for(const n of t){let t=e[s];if(void 0===t){let n=this.startNode;if(s>0){n=e[s-1].endNode=document.createTextNode(""),this._insert(n)}t=new x(this.instance,n,this.endNode),e.push(t)}t.setValue(n),s++}if(0===s)this.clear(),this._previousValue=void 0;else if(s<e.length){const t=e[s-1];e.length=s,this.clear(t.endNode.previousSibling),t.endNode=this.endNode}}_setPromise(t){this._previousValue=t,t.then(e=>{this._previousValue===t&&this.setValue(e)})}clear(t=this.startNode){T(this.startNode.parentNode,t.nextSibling,this.endNode)}}const N=(t,e,s)=>{if("attribute"===e.type)return new v(t,s,e.name,e.strings);if("node"===e.type)return new x(t,s,s.nextSibling);throw new Error(`Unknown part type ${e.type}`)};class b{constructor(t,e,s){this._parts=[],this.template=t,this._partCallback=e,this._getTemplate=s}update(t){let e=0;for(const s of this._parts)void 0===s.size?(s.setValue(t[e]),e++):(s.setValue(t,e),e+=s.size)}_clone(){const t=document.importNode(this.template.element.content,!0),e=this.template.parts;if(e.length>0){const s=document.createTreeWalker(t,133,null,!1);let n=-1;for(let t=0;t<e.length;t++){const i=e[t];for(;n<i.index;)n++,s.nextNode();this._parts.push(this._partCallback(this,i,s.currentNode))}}return t}}const y=(t,e,s=null,n=null)=>{let i=e;for(;i!==s;){const e=i.nextSibling;t.insertBefore(i,n),i=e}},T=(t,e,s=null)=>{let n=e;for(;n!==s;){const e=n.nextSibling;t.removeChild(n),n=e}},w=(t,...e)=>new i(t,e,"html",E),E=(t,e,s)=>{if("attribute"===e.type){if(e.rawName.startsWith("on-")){return new class{constructor(t,e,s){this.instance=t,this.element=e,this.eventName=s}setValue(t){const e=p(this,t),s=this._listener;e!==s&&(this._listener=e,null!=s&&this.element.removeEventListener(this.eventName,s),null!=e&&this.element.addEventListener(this.eventName,e))}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */(t,s,e.rawName.slice(3))}if(e.name.endsWith("$")){const n=e.name.slice(0,-1);return new v(t,s,n,e.strings)}if(e.name.endsWith("?")){return new class extends v{setValue(t,e){const s=this.strings;if(2!==s.length||""!==s[0]||""!==s[1])throw new Error("boolean attributes can only contain a single expression");{const s=p(this,t[e]);if(s===f)return;s?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}(t,s,e.name.slice(0,-1),e.strings)}return new class extends v{setValue(t,e){const s=this.strings;let n;this._equalToPreviousValues(t,e)||((n=2===s.length&&""===s[0]&&""===s[1]?p(this,t[e]):this._interpolate(t,e))!==f&&(this.element[this.name]=n),this._previousValues=t)}}(t,s,e.rawName,e.strings)}return N(t,e,s)};const $=new WeakMap;function k(t,e,s){t.startNode.parentNode||s.delete(e)}const S=t=>(class extends t{$$(t){return this.shadowRoot.querySelector(t)}$all(t){return[...this.shadowRoot.querySelectorAll(t)]}fire(t,e,s={}){const n={};n.detail=e;for(const t of Object.keys(s))n[t]=s[t];this.dispatchEvent(new CustomEvent(t,n))}getSlotted(t){return this.querySelector(t)||this.$$(t)}});class V extends(S(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"}),this.todo={},this._inputListener=(t=>{this.todo.content=this.$$("#text").value,this.todo.done=this.$$("#checkbox").checked,this.fire(V.changedEventName,this.todo)}),this._deleteListener=(t=>{this.fire(V.deletedEventName,this.todo)})}static get is(){return"todo-item"}static get changedEventName(){return"todo-changed"}static get deletedEventName(){return"todo-deleted"}static get observedAttributes(){return["todo"]}attributeChangedCallback(t,e,s){this[t]=JSON.parse(s)}get todo(){return this._todo}set todo(t){this._todo=t,this.render()}render(){o(w`
            <input id="checkbox"
                type="checkbox"
                checked="${this.todo.done}"
                on-change="${this._inputListener}"/>
            <input id="text"
                type="text"
                value="${this.todo.content}"
                on-input="${this._inputListener}"/>
            <button on-click="${this._deleteListener}">Delete</button>
        `,this.shadowRoot)}}customElements.define(V.is,V);class L extends(S(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"}),this._todoListener=(t=>{const e=t.detail,s=this.todos.map(t=>t.id===e.id?e:t);this.fire(L.changedEventName,s)}),this._deleteListener=(t=>{const e=this.todos.reduce((e,s)=>s.id===t.detail.id?e:e.concat([s]),[]);this.fire(L.changedEventName,e)})}static get is(){return"todo-list"}static get changedEventName(){return"todos-changed"}get todos(){return this._todos}set todos(t){this._todos=t,this.render()}render(){o(w`
            <style>
                todo-item {
                    display: block;
                    padding: 0.5rem;
                }
            </style>
            ${function(t,e,s){let n;return 2===arguments.length?s=e:3===arguments.length&&(n=e),m(e=>{if(!(e instanceof x))throw new Error("repeat can only be used on NodeParts");let i=$.get(e);void 0===i&&(i=new Map,$.set(e,i));const o=e.startNode.parentNode;let r=-1,a=e.startNode.nextSibling;for(const d of t){let t,l;try{t=s(d,++r),l=n?n(d):r}catch(t){console.error(t);continue}let h=i.get(l);if(void 0===h){const t=document.createTextNode(""),s=document.createTextNode("");o.insertBefore(t,a),o.insertBefore(s,a),h=new x(e.instance,t,s),void 0!==l&&i.set(l,h)}else if(a!==h.startNode){const t=h.endNode.nextSibling;a!==t&&y(o,h.startNode,t,a)}else a=h.endNode.nextSibling;h.setValue(t)}a!==e.endNode&&(T(o,a,e.endNode),i.forEach(k))})}(this.todos,t=>w`
                <todo-item 
                    todo=${t}
                    on-todo-changed=${this._todoListener}
                    on-todo-deleted=${this._deleteListener}>
                </todo-item>
            `)}
        `,this.shadowRoot)}}customElements.define(L.is,L);const C=13;class A extends(S(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"}),this._saveListener=(t=>{this.todo.content=this.$$("#text").value,this.todo.done=this.$$("#checkbox").checked,this.$$("#text").value="",this.$$("#checkbox").checked=!1,this.fire(A.createdEventName,this.todo)}),this._keypressListener=(t=>{t.keyCode===C&&this._saveListener()}),this.todo={}}attributeChangedCallback(t,e,s){this[t]=JSON.parse(s)}static get is(){return"todo-input"}static get createdEventName(){return"todo-input"}static get observedAttributes(){return[]}get todo(){return this._todo}set todo(t){this._todo=t,this.render()}render(){o(w`
            <style>
                :host {
                    display: block;
                }
            </style>
            <input id="checkbox" type="checkbox" checked?="${this.todo.done}"/>
            <input id="text"     type="text"     value=${this.todo.content} on-keypress=${this._keypressListener}/>
            <button on-click="${this._saveListener}">Save</button>
        `,this.shadowRoot)}}customElements.define(A.is,A);class O{constructor(t,e){this.content=t,this.done=e}get content(){return this._content}set content(t){this._content=t}toJSON(){return{id:this.id,content:this.content,done:this.done}}static fromJSON(t){return new O(t.content,t.done)}}function M(t){return t.reduce((t,e)=>t+"\n"+function(t){return`[${t.done?"x":" "}] ${t.content}`}(e),"").trim()}function P(t){return t.split("\n").reduce((t,e)=>e.trim()?t.concat([e]):t,[]).map(t=>(function(t){const e="x"===t[1],s=t.slice(4);return new O(s,e)})(t)).map((t,e)=>(t.id=e,t))}s.d(e,"TodoApp",function(){return R});class R extends(S(HTMLElement)){constructor(){super(),this.attachShadow({mode:"open"}),this.parse=P,this.serialize=M,this.render(),this._createTodoListener=(t=>{this.editingTodo=new O;const e=O.fromJSON(t.detail);e.id=this.todos.length,this.todos.push(e),this.todos=this.todos.slice()}),this._changedTodosListener=(t=>{this.todos=t.detail})}connectedCallback(){this.getSlotted("[slot=input]").addEventListener(A.createdEventName,this._createTodoListener),this.getSlotted("[slot=list]").addEventListener(L.changedEventName,this._changedTodosListener)}disconnectedCallback(){this.getSlotted("[slot=input]").removeEventListener(A.createdEventName,this._createTodoListener),this.getSlotted("[slot=list]").removeEventListener(L.changedEventName,this._changedTodosListener)}attributeChangedCallback(t,e,s){switch(t){case"todos":e!==s&&(this._todos=this.parse(s),this.fire("todos-changed",this.todos),this.render(),this.getSlotted("[slot=list]").todos=this.todos);break;case"title":this.title=s}}static get is(){return"todo-app"}static get observedAttributes(){return["todos","title"]}get todos(){return this._todos||[]}set todos(t){this._todos=t,this.setAttribute("todos",this.serialize(t))}get title(){return this._title}set title(t){this._title=t,this.render()}get editingTodo(){return this._editingTodo}set editingTodo(t){this._editingTodo=t,this.getSlotted("[slot=list]").todo=this.editingTodo,this.render()}render(){o(w`
            <style>
                todo-input {
                    display: block;
                    padding: 0.5rem;
                }
            </style>
            <h2>${this.title}</h2>
            <slot name="list">
                <todo-list slot="list"></todo-list>
            </slot>
            <slot name="input">
                <todo-input slot="input"></todo-input>
            </slot>
        `,this.shadowRoot)}}customElements.define(R.is,R)}]);